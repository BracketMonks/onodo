@import 'bootstrap/variables';
@import '_variables';
@import 'bootstrap/mixins/vendor-prefixes';
@import 'scss/sprites';
@import 'scss/visualization';

// Story New
.story-new{
  .story-new-selector > p{
    margin: 1.5*$grid-gutter-width 0;
  }

  .form-default{
    margin-bottom: 0;
  }
}

.story-select-visualization-list{
  background: $gray-lighter;
  padding: $grid-gutter-width/2 0;

  .visualization-item{
    display: block;
    background: $gray-lighter;
    border-bottom: 1px solid $gray-light;
    padding: 2*$grid-gutter-width/3 $grid-gutter-width/3;
    @include transition( background 0.3s ease-out );

    &:last-child{
      border-bottom: none;
    }

    .item-type-icon,
    .item-info{
      display: inline-block;
    }

    .item-type-icon{
      position: relative;
      top: 3px;
      margin-right: $grid-gutter-width/3;
      @include retina-sprite( $icon-visualization-brand-group );
    }

    .item-info h3{
      color: $gray-dark;
      font-size: 0.857em;
      text-transform: uppercase;
      font-weight: 400;
      margin: 0;
    }

    .btn-invert{
      margin-top: -4px;
      background: transparent;
    }

    &:hover{
      background: white;
      text-decoration: none;

      .btn-invert{
        display: block;
        color: white;
        background: $brand-primary;
      }
    }
  }

  .pagination{
    margin-top: $grid-gutter-width;
  }
}


// Story Cover
.story-cover{
  position: absolute;
  top: 82px;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 70;
  
  .item-preview{
    border-radius: 0;
    height: 100%;

    .item-info-container-inner{
      max-width: 560px;
    }

    .item-info{
      .item-title h3{
        font-size: 3.429em;
        margin: 0;
      }
      p{
        font-size: 1em;
        color: white;
      }
    }

    .item-type-icon{
      top: auto;
      bottom: $grid-gutter-width/2;
    }

    .item-picture {
      height: 100%;

      > img{
        height: 100%;
        width: auto;
      }
    }
  }
}

// Story Info
.story-info{
  @extend .visualization-graph-info;

  .panel-heading{
    color: $gray;
    line-height: 30px;
  }

  .panel-body{
    padding: $grid-gutter-width/3;
  }

  .chapters-list{
    padding: 0;

    li{
      list-style: none;

      a{
        display: block;
        color: $text-color;
        font-weight: 300;
        padding: $grid-gutter-width/3;
        margin-bottom: $grid-gutter-width/6;
        background: $gray-blue-dark;
        border-left: 4px solid $brand-primary;

        .index{
          display: inline-block;
          color: $brand-primary;
          width: $grid-gutter-width;
          height: $grid-gutter-width;
          border-radius: $grid-gutter-width/2;
          line-height: -4 + $grid-gutter-width;
          margin-right: $grid-gutter-width/6;
          text-align: center;
          font-weight: 400;
          border: 2px solid $brand-primary;
        }

        &:hover,
        &:focus{
          background: $brand-primary;
          color: white;
          text-decoration: none;

          .index{
            color: white;
            border-color: white;
          }
        }
      }
    }
  }
}

// Sotry Edit
.story-edit-chapter{
  .visualization-table{

  }
}

// Hide Visualization Info at Story Cover
.stories.show .visualization-info,
.stories.show .visualization-description{
  display: none;
}